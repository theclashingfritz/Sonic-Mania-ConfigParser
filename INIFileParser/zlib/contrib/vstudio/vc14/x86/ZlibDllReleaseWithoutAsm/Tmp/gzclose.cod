; Listing generated by Microsoft (R) Optimizing Compiler Version 19.11.25508.2 

	TITLE	c:\users\theclashingfritz\source\repos\inifileparser\zlib\gzclose.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB OLDNAMES

COMM	?_OptionsStorage@?1??__local_stdio_scanf_options@@9@9:QWORD							; `__local_stdio_scanf_options'::`2'::_OptionsStorage
COMM	?_OptionsStorage@?1??__local_stdio_printf_options@@9@9:QWORD							; `__local_stdio_printf_options'::`2'::_OptionsStorage
_DATA	ENDS
PUBLIC	_gzclose
; Function compile flags: /Ogtp
; File c:\users\theclashingfritz\source\repos\inifileparser\zlib\gzclose.c
;	COMDAT _gzclose
_TEXT	SEGMENT
_file$ = 8						; size = 4
_gzclose PROC						; COMDAT

; 13   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 14   : #ifndef NO_GZCOMPRESS
; 15   :     gz_statep state;
; 16   : 
; 17   :     if (file == NULL)

  00003	8b 45 08	 mov	 eax, DWORD PTR _file$[ebp]
  00006	85 c0		 test	 eax, eax
  00008	75 07		 jne	 SHORT $LN2@gzclose

; 18   :         return Z_STREAM_ERROR;

  0000a	b8 fe ff ff ff	 mov	 eax, -2			; fffffffeH

; 22   : #else
; 23   :     return gzclose_r(file);
; 24   : #endif
; 25   : }

  0000f	5d		 pop	 ebp
  00010	c3		 ret	 0
$LN2@gzclose:

; 19   :     state = (gz_statep)file;
; 20   : 
; 21   :     return state->mode == GZ_READ ? gzclose_r(file) : gzclose_w(file);

  00011	81 78 10 4f 1c
	00 00		 cmp	 DWORD PTR [eax+16], 7247 ; 00001c4fH
  00018	75 09		 jne	 SHORT $LN4@gzclose
  0001a	89 45 08	 mov	 DWORD PTR _file$[ebp], eax

; 22   : #else
; 23   :     return gzclose_r(file);
; 24   : #endif
; 25   : }

  0001d	5d		 pop	 ebp

; 19   :     state = (gz_statep)file;
; 20   : 
; 21   :     return state->mode == GZ_READ ? gzclose_r(file) : gzclose_w(file);

  0001e	e9 00 00 00 00	 jmp	 _gzclose_r
$LN4@gzclose:
  00023	89 45 08	 mov	 DWORD PTR _file$[ebp], eax

; 22   : #else
; 23   :     return gzclose_r(file);
; 24   : #endif
; 25   : }

  00026	5d		 pop	 ebp

; 19   :     state = (gz_statep)file;
; 20   : 
; 21   :     return state->mode == GZ_READ ? gzclose_r(file) : gzclose_w(file);

  00027	e9 00 00 00 00	 jmp	 _gzclose_w
_gzclose ENDP
_TEXT	ENDS
END
